<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * ArchiveDotOrg Core Module - Category Form UI Component
 *
 * Adds Archive.org-specific attributes to the category edit form in admin
 */
-->
<form xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Ui:etc/ui_configuration.xsd">

    <!-- Archive.org Settings Fieldset -->
    <fieldset name="archivedotorg_settings" sortOrder="100">
        <settings>
            <collapsible>true</collapsible>
            <label translate="true">Archive.org Settings</label>
        </settings>

        <!-- Is Artist -->
        <field name="is_artist" formElement="checkbox">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                    <item name="default" xsi:type="number">0</item>
                </item>
            </argument>
            <settings>
                <dataType>boolean</dataType>
                <label translate="true">Is an Artist?</label>
                <notice translate="true">Mark this category as an artist container</notice>
            </settings>
            <formElements>
                <checkbox>
                    <settings>
                        <valueMap>
                            <map name="false" xsi:type="number">0</map>
                            <map name="true" xsi:type="number">1</map>
                        </valueMap>
                        <prefer>toggle</prefer>
                    </settings>
                </checkbox>
            </formElements>
        </field>

        <!-- Is Album -->
        <field name="is_album" formElement="checkbox">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                    <item name="default" xsi:type="number">0</item>
                </item>
            </argument>
            <settings>
                <dataType>boolean</dataType>
                <label translate="true">Is an Album?</label>
                <notice translate="true">Mark this category as an album</notice>
            </settings>
            <formElements>
                <checkbox>
                    <settings>
                        <valueMap>
                            <map name="false" xsi:type="number">0</map>
                            <map name="true" xsi:type="number">1</map>
                        </valueMap>
                        <prefer>toggle</prefer>
                    </settings>
                </checkbox>
            </formElements>
        </field>

        <!-- Is Song -->
        <field name="is_song" formElement="checkbox">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                    <item name="default" xsi:type="number">0</item>
                </item>
            </argument>
            <settings>
                <dataType>boolean</dataType>
                <label translate="true">Is a Song?</label>
                <notice translate="true">Mark this category as a song for album matching</notice>
            </settings>
            <formElements>
                <checkbox>
                    <settings>
                        <valueMap>
                            <map name="false" xsi:type="number">0</map>
                            <map name="true" xsi:type="number">1</map>
                        </valueMap>
                        <prefer>toggle</prefer>
                    </settings>
                </checkbox>
            </formElements>
        </field>

        <!-- Artist Name -->
        <field name="artist" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Artist Name</label>
                <notice translate="true">The artist name for album sync matching</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                </validation>
            </settings>
        </field>

        <!-- Artist Collection RSS -->
        <field name="artist_collection_rss" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Archive.org Collection ID</label>
                <notice translate="true">The Archive.org collection identifier (e.g., "STS9", "RailroadEarth")</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                </validation>
            </settings>
        </field>

        <!-- Song Track Number -->
        <field name="song_track_number" formElement="select">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Track Number</label>
                <notice translate="true">The track number on the album (for song categories)</notice>
            </settings>
            <formElements>
                <select>
                    <settings>
                        <options class="ArchiveDotOrg\Core\Model\Category\Attribute\Source\TrackNumber"/>
                    </settings>
                </select>
            </formElements>
        </field>
    </fieldset>
</form>
