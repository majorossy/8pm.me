<?xml version="1.0"?>
<!--
/**
 * ArchiveDotOrg Core Module - Message Queue Topology
 *
 * Defines exchanges and queue bindings for async import
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework-message-queue:etc/queue_topology.xsd">

    <!-- Exchange for Archive.org import jobs -->
    <exchange name="archivedotorg.import" type="topic" connection="db">
        <binding id="archivedotorg.import.job.binding"
                 topic="archivedotorg.import.job"
                 destinationType="queue"
                 destination="archivedotorg.import.job.queue"/>
        <binding id="archivedotorg.import.status.binding"
                 topic="archivedotorg.import.status"
                 destinationType="queue"
                 destination="archivedotorg.import.status.queue"/>
    </exchange>

</config>
