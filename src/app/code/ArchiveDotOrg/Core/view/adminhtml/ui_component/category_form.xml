<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * ArchiveDotOrg Core Module - Category Form UI Component
 *
 * Adds Archive.org-specific attributes to the category edit form in admin
 */
-->
<form xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Ui:etc/ui_configuration.xsd">

    <!-- Hide Schedule Design Update -->
    <fieldset name="schedule_design_update">
        <settings>
            <visible>false</visible>
        </settings>
    </fieldset>

    <!-- Archive.org Settings Fieldset -->
    <fieldset name="archivedotorg_settings" sortOrder="100">
        <settings>
            <collapsible>true</collapsible>
            <label translate="true">Archive.org Settings</label>
        </settings>

        <!-- Is Artist -->
        <field name="is_artist" formElement="checkbox">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                    <item name="default" xsi:type="number">0</item>
                </item>
            </argument>
            <settings>
                <dataType>boolean</dataType>
                <label translate="true">Is an Artist?</label>
                <notice translate="true">Mark this category as an artist container</notice>
            </settings>
            <formElements>
                <checkbox>
                    <settings>
                        <valueMap>
                            <map name="false" xsi:type="number">0</map>
                            <map name="true" xsi:type="number">1</map>
                        </valueMap>
                        <prefer>toggle</prefer>
                    </settings>
                </checkbox>
            </formElements>
        </field>

        <!-- Is Album -->
        <field name="is_album" formElement="checkbox">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                    <item name="default" xsi:type="number">0</item>
                </item>
            </argument>
            <settings>
                <dataType>boolean</dataType>
                <label translate="true">Is an Album?</label>
                <notice translate="true">Mark this category as an album</notice>
            </settings>
            <formElements>
                <checkbox>
                    <settings>
                        <valueMap>
                            <map name="false" xsi:type="number">0</map>
                            <map name="true" xsi:type="number">1</map>
                        </valueMap>
                        <prefer>toggle</prefer>
                    </settings>
                </checkbox>
            </formElements>
        </field>

        <!-- Is Song -->
        <field name="is_song" formElement="checkbox">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                    <item name="default" xsi:type="number">0</item>
                </item>
            </argument>
            <settings>
                <dataType>boolean</dataType>
                <label translate="true">Is a Song?</label>
                <notice translate="true">Mark this category as a song for album matching</notice>
            </settings>
            <formElements>
                <checkbox>
                    <settings>
                        <valueMap>
                            <map name="false" xsi:type="number">0</map>
                            <map name="true" xsi:type="number">1</map>
                        </valueMap>
                        <prefer>toggle</prefer>
                    </settings>
                </checkbox>
            </formElements>
        </field>

        <!-- Artist Name -->
        <field name="artist" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Artist Name</label>
                <notice translate="true">The artist name for album sync matching</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                </validation>
            </settings>
        </field>

        <!-- Artist Collection RSS -->
        <field name="artist_collection_rss" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Archive.org Collection ID</label>
                <notice translate="true">The Archive.org collection identifier (e.g., "STS9", "RailroadEarth")</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                </validation>
            </settings>
        </field>

        <!-- Song Track Number -->
        <field name="song_track_number" formElement="select">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Track Number</label>
                <notice translate="true">The track number on the album (for song categories)</notice>
            </settings>
            <formElements>
                <select>
                    <settings>
                        <options class="ArchiveDotOrg\Core\Model\Category\Attribute\Source\TrackNumber"/>
                    </settings>
                </select>
            </formElements>
        </field>
    </fieldset>

    <!-- Band/Artist Data Fieldset -->
    <fieldset name="band_data" sortOrder="101">
        <settings>
            <collapsible>true</collapsible>
            <label translate="true">Artist/Band Information</label>
        </settings>

        <!-- Extended Biography -->
        <field name="band_extended_bio" formElement="textarea">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Biography</label>
                <notice translate="true">Extended biography text from Wikipedia or manually entered</notice>
            </settings>
            <formElements>
                <textarea>
                    <settings>
                        <rows>8</rows>
                    </settings>
                </textarea>
            </formElements>
        </field>

        <!-- Band Image URL -->
        <field name="band_image_url" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Band Image URL</label>
                <notice translate="true">Wikipedia/Wikimedia image URL (hotlinked - legally safe). Example: https://upload.wikimedia.org/...</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">500</rule>
                    <rule name="validate-url" xsi:type="boolean">true</rule>
                </validation>
            </settings>
        </field>

        <!-- Formation Date -->
        <field name="band_formation_date" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Formation Date</label>
                <notice translate="true">Year the band formed (e.g., 1983)</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">50</rule>
                </validation>
            </settings>
        </field>

        <!-- Origin Location -->
        <field name="band_origin_location" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Origin Location</label>
                <notice translate="true">City/country where band originated (e.g., Burlington, Vermont, U.S.)</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                </validation>
            </settings>
        </field>

        <!-- Years Active -->
        <field name="band_years_active" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Years Active</label>
                <notice translate="true">Years band was/has been active (e.g., 1983–2000, 2002–2004, 2008–present)</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                </validation>
            </settings>
        </field>

        <!-- Genres -->
        <field name="band_genres" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Genres</label>
                <notice translate="true">Comma-separated genre list (e.g., Rock, psychedelic rock, jam band)</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">500</rule>
                </validation>
            </settings>
        </field>

        <!-- Official Website -->
        <field name="band_official_website" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Official Website</label>
                <notice translate="true">Official band website URL</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                    <rule name="validate-url" xsi:type="boolean">true</rule>
                </validation>
            </settings>
        </field>

        <!-- Facebook -->
        <field name="band_facebook" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Facebook</label>
                <notice translate="true">Facebook page URL</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                    <rule name="validate-url" xsi:type="boolean">true</rule>
                </validation>
            </settings>
        </field>

        <!-- Instagram -->
        <field name="band_instagram" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Instagram</label>
                <notice translate="true">Instagram profile URL</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                    <rule name="validate-url" xsi:type="boolean">true</rule>
                </validation>
            </settings>
        </field>

        <!-- Twitter -->
        <field name="band_twitter" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Twitter/X</label>
                <notice translate="true">Twitter/X profile URL</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                    <rule name="validate-url" xsi:type="boolean">true</rule>
                </validation>
            </settings>
        </field>

        <!-- Total Shows -->
        <field name="band_total_shows" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>number</dataType>
                <label translate="true">Total Shows</label>
                <notice translate="true">Total number of recorded shows</notice>
                <validation>
                    <rule name="validate-number" xsi:type="boolean">true</rule>
                </validation>
            </settings>
        </field>

        <!-- Most Played Track -->
        <field name="band_most_played_track" formElement="input">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="source" xsi:type="string">category</item>
                </item>
            </argument>
            <settings>
                <dataType>text</dataType>
                <label translate="true">Most Played Track</label>
                <notice translate="true">Most frequently played track name</notice>
                <validation>
                    <rule name="max_text_length" xsi:type="number">255</rule>
                </validation>
            </settings>
        </field>
    </fieldset>
</form>
